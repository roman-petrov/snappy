generator client {
  provider = "prisma-client"
  output   = "../src/generated/"
}

datasource db {
  provider = "postgresql"
}

model User {
  id               Int      @id @default(autoincrement())
  telegramId       Int      @unique
  telegramUsername String?
  createdAt        DateTime @default(now())

  snappySettings SnappySettings[]

  @@map("users")
}

model SnappySettings {
  userId       Int      @id
  requestCount Int      @default(0)
  lastReset    DateTime @default(now())

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("snappy_settings")
}
